%----------------------------------------------------
% Setup Beamer
%----------------------------------------------------
\documentclass[hyperref={colorlinks=true}]{beamer}

%----------------------------------------------------
% Packages to use
%----------------------------------------------------
\input{../packages.sty}

%----------------------------------------------------
% Setup Theme
%----------------------------------------------------
\input{../theme.sty}

%----------------------------------------------------
% Table of Contents at each section transition
%----------------------------------------------------

\AtBeginSection[]
{
   \begin{frame}
       \frametitle{Outline}
       \setcounter{tocdepth}{1}
       \tableofcontents[currentsection]
   \end{frame}
}

%----------------------------------------------------
% Colors
%----------------------------------------------------
\input{../mycolors.sty}

%----------------------------------------------------
% Style, formatting, and new commands
%----------------------------------------------------
\input{../../global.sty}
\input{../newcommands.sty}

%----------------------------------------------------
% Set paths for plots and images
%----------------------------------------------------
\input{../paths.sty}


%-----------------------------------------------------------------------------------------
% Title: [Column]{Title}
%-----------------------------------------------------------------------------------------
\title[PHYS 250 (Autumn 2018) -- Lecture 1]{Introduction to Computational Physics}

%-----------------------------------------------------------------------------------------
% SubTitle: [Column]{Subtitle}
%-----------------------------------------------------------------------------------------
\subtitle{PHYS 250 (Autumn 2018) -- Lecture 2}

%-----------------------------------------------------------------------------------------
% Author: [SubAuthor]{Author}
%-----------------------------------------------------------------------------------------
\author[D.W.~Miller]{David Miller}

%----------------------------------------------------
% Institute: [SubInst]{Institute}
%----------------------------------------------------
\institute[EFI, Chicago] 
{
  Department of Physics and the Enrico Fermi Institute\\
  University of Chicago
}

%----------------------------------------------------
% Institute: [SubInst]{Institute}
%----------------------------------------------------
\date[October 4, 2018]{October 4, 2018}

\subject{PHYS 250 Lecture}

\begin{document}

%==========================================================================================
% TITLE PAGE
%==========================================================================================

{
\begin{frame}
  \titlepage
\end{frame}
}

%==========================================================================================
\section[Introduction to PHYS 250]{Introduction}
%==========================================================================================

%-----------------------------------------------------------------------------------------
\subsection[Course Description]{Course Description}
%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=1]
  \frametitle{Computational Physics (PHYS 250)}
    
  \begin{ucblock}{Course Description PHYS 250 (\href{http://collegecatalog.uchicago.edu/search/?P=PHYS\%2025000}{link to Course Catalog})}
    This course introduces the use of computers in the physical sciences. After an introduction to programming basics, we cover numerical solutions to fundamental types of problems, including cellular automatons, artificial neural networks, computer simulations of complex systems, and finite element analysis. Additional topics may include an introduction to graphical programming, with applications to data acquisition and device control.
  \end{ucblock}
  
  \vspace{0.5cm}
  
  \centering
  
  \bluebf{There are an infinite number of paths that we might follow and still not deviate from this description. I therefore would like to lay out some of the principles that will guide me, and us, in how we navigate through those many possibilities.}
  
\end{frame}

%==========================================================================================
\section[Software]{Software}
%==========================================================================================

%-----------------------------------------------------------------------------------------
\subsection[Version Control Software Systems]{Version Control Software Systems}
%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{Version control}
  
  \begin{columns}
  
    \column{0.5\textwidth}
    
      \begin{itemize}
        \item The most important message of this slide is simple...\alertbf{Use a software version control system for all of your code}
        \begin{itemize}
          \item And that means now...not tomorrow or next week
          \item Because if you wait until you need it, it will be too late
        \end{itemize}
      \end{itemize}
      
      \pause
      
      \centering
      
      \includegraphics[width=0.75\columnwidth]{/Users/fizisist/Pictures/Random/Git-Logo-2Color.png}
      \includegraphics[width=0.75\columnwidth]{/Users/fizisist/Pictures/Random/GitHub_Logo.png}
    
    \column{0.5\textwidth}
    
      \includegraphics[width=0.95\textwidth]{/Users/fizisist/Pictures/Random/version-control.jpg}
  
  \end{columns}

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{A brief history of version control}
  
  \begin{itemize}
    \item \bluebf{The first version control systems were designed to be used on large systems where everyone logged into the same machine}
    \begin{itemize}
      \item They tracked code on the same filesystem where it lived (e.g., in a subdirectory)
      \item SCCS and RCS are examples
    \end{itemize}
    \item \bluebf{Then client-server systems were developed, so that developers could work on their own machines}
    \begin{itemize}
      \item Checking code into a central server to share and collaborate
      \item CVS and SVN are examples
    \end{itemize}
    \item  \bluebf{More recently distributed version control systems have arisen}
    \begin{itemize}
      \item These are decentralised, so everyone has a complete copy of the repository
      \item Gives a lot of freedom to developers to share and merge as they like, so liked very much by the open source community
      \item git, mercurial and bit keeper are examples
    \end{itemize}
  \end{itemize}
  
\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{\git, \github, \& \gitlab }
  \framesubtitle{\url{https://git-scm.com}, \url{https://github.com}, \url{https://about.gitlab.com}}
  
  \begin{itemize}
    \item \bluebf{\git is the most popular open source version control system}
    \begin{itemize}
      \item can host huge projects (Linux Kernel, LHC experiment software, etc)
      \item scales very well and it's extremely fast and powerful
      \item very flexible (= complex)
    \end{itemize}
    \item \bluebf{Distributed version control systems (\git) are great, but they're made even better by using a social coding site (\github or \gitlab)}
    \item \bluebf{These sites allow developers:}
    \begin{itemize}
      \item browse code easily
      \item compare different versions
      \item take copies (a.k.a. fork)
      \item offer patches back to upstream repositories
      \begin{itemize}
        \item And discuss and review these patches before acceptance
      \end{itemize}
      \item even build websites
    \end{itemize}
    \item \bluebf{The best known social coding site is GitHub, but there are others, e.g. BitBucket and GitLab}
    \begin{itemize}
      \item Familiarity with \git/\github/\gitlab will serve you well, trust me
    \end{itemize}
  \end{itemize}
  
\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{\github \& \gitlab resources }
  
  \github is a free resource as long as your code remains public (you can pay for private repositories). The Physical Sciences Division (PSD) at UChicago hosts a \bluebf{private} \gitlab repository.

  \begin{itemize}
    \item \url{https://psdcomputing.uchicago.edu/page/psd-repo}
  \end{itemize}
  
  \includegraphics[width=0.95\textwidth]{../Lecture1/PSDRepo.png}

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{PHYS 250 \github}
  \framesubtitle{\url{https://github.com/UChicagoPhysics/PHYS250}}
  
  Course materials are hosted in the \github \texttt{UChicagoPhysics} repository
  
  \begin{center}
    \includegraphics[width=0.85\textwidth]{../Lecture1/PHYS250-GitHub.png}
  \end{center}

  \vspace{-0.5cm}

  \begin{itemize}
    \item Slides (e.g. \textit{these!}), syllabi, learning goals, and code examples
    \item Stable versions will be cross-posted to \href{\CanvasURL}{Canvas} as well.
    \item Homework submission will be done via \github (\textit{instructions to come})
  \end{itemize}
  
  
\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{Linux ``shell''}
  
  \begin{itemize}
    \item We will be using an interface to Linux called a ``shell''
    \item It is a command-line interpreter : you type, it executes
    \item Two major options are \texttt{bash} (as in, smash) and \texttt{csh} (like ``sea shell'', modern version is ``tcsh'', ``tea sea shell'')
    \begin{itemize}
      \item Only real difference: environment variables syntax
      \item \texttt{bash:} \texttt{export X=value}
      \item \texttt{csh:} \texttt{setenv X value}
    \end{itemize}
  \end{itemize}
  
\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Shell basics}
  
  \begin{ucbashblock}{Listing directory contents : \texttt{ls}, like ``list''}
> ls
Examples/ LearningGoals/ README.md Slides/ 
Syllabus/ global.sty
  \end{ucbashblock}
  
  \begin{ucbashblock}{Copy: \texttt{cp}}
> cp stuff.txt stuff1.txt
  \end{ucbashblock}
  
  \begin{ucbashblock}{Where am I?: \texttt{pwd}, \texttt{cd}}
> pwd
/ComputationalPhysics/PHYS250/PHYS250-Autumn2018
> ls
Examples/ LearningGoals/ README.md Slides/ Syllabus/
> cd Examples/
> ls
HelloGaussian.ipynb
HelloGaussian.py
Introduction_to_Jupyter_Notebooks_and_Python.ipynb
  \end{ucbashblock}  
\end{frame}

%-----------------------------------------------------------------------------------------
\subsection[Python Introduction]{Python Introduction}
%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Hello world!}

  \begin{ucpythonblock}{Interactive in the python interpreter}
python
>>> print "hello world"
hello
>>> CTRL-d  # to exit python
  \end{ucpythonblock}
  
  \begin{ucpythonblock}{From a script (containing the above print line):}
python helloworld.py
  \end{ucpythonblock}
  
  \begin{ucpythonblock}{Self-running script:}
#!/usr/bin/env python
# This script prints hello to the screen
print "hello world"
  \end{ucpythonblock}
  
  \begin{ucpythonblock}{}
chmod +x helloworld.py
./helloworld.py
hello world
  \end{ucpythonblock}
  
\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Lists (I)}

  In my opinion, python's great advantage is \bluebf{list comprehension}.

    \begin{ucpythonblock}{List basics}
v = []   # empty list
v = list()  # empty list
v = [ 1, 2, 4, 5 ]  ; v = [ 'a', 'b', 'c' ]
v = range(4,10,2) # results in [ 4,6,8 ]
v = [ 4, 2.5, 'Hi', [ 1,3,5 ] ]  # can mix types    
    \end{ucpythonblock}

    \begin{ucpythonblock}{Append elements}
>>> v.append( 70 )
>>> print v  
    \end{ucpythonblock}
    
    \begin{ucpythonblock}{Concatenation}
>>> v += [ 'some', 'more', 'elements' ]
>>> v  # shows the object
    \end{ucpythonblock}
    
    \begin{ucpythonblock}{Removal of elements}
>>> v.remove(2.5)
>>> del v[0]
    \end{ucpythonblock}

\end{frame}


%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Lists (II)}

    \begin{ucpythonblock}{Element acces read/write}
>>> v[0]
'hi'
>>> v[0] = 'hey'
>>> v[-1] # last element. Negative = count from the end
>>> v[1:3] # subrange by index (start index, one-beyond-last index) 
    \end{ucpythonblock}

    \begin{ucpythonblock}{Test if an element is in a list (or not)}
>>> if 4 in v:
...   print "Found it"
Found it
>>> if 200 not in v:
...   print "Not found"
Not found
    \end{ucpythonblock}

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{\texttt{for} and \texttt{while} loops}

  The \texttt{for} statement iterates through a collection, iterable object or generator function.
  
  The \texttt{while} statement merely loops until a condition is \texttt{False}.

    \begin{ucpythonblock}{Iterate over list}
fruits = ["apple", "banana", "cherry"]
for x in fruits:
  print(x) 
    \end{ucpythonblock}

    \begin{ucpythonblock}{Iterate using built-in \texttt{range} function}
for x in range(0, 3):
  print "We're on time %d" % (x)
    \end{ucpythonblock}


    \begin{ucpythonblock}{Iterate until a condition is met}
count = 0
while count < 5:
  print(count)
  count += 1  # Same as: count = count + 1    
    \end{ucpythonblock}

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Putting lists and loops together is amazing (and complex)}

    \begin{ucpythonblock}{Filter one list into another (the ``old'' way)}
newlist = []
for i in oldlist:
    if filter(i):
        newlist.append(function(i))
    \end{ucpythonblock}

    \begin{ucpythonblock}{List comprehension (the ``pythonic'' way)}
newlist = [function(i) for i in oldlist if filter(i)]
    \end{ucpythonblock}

where \texttt{filter} and \texttt{function} just perform ``some'' operation on the list elements. Basically, the syntax is:
    \begin{ucpythonblock}{}
[ expression for item in list if conditional ] 
    \end{ucpythonblock}

and this replaces:
    \begin{ucpythonblock}{}
for item in list:
  if conditional:
    expression
    \end{ucpythonblock}


\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Useful list comprehension}

    \begin{ucpythonblock}{Filter one list into another (the ``old'' way)}
>>> v = [ x**2 for x in range(10) if x % 3 == 0 ]
>>> v
[0, 9, 36, 81]
    \end{ucpythonblock}

    \begin{ucpythonblock}{List comprehension (the ``pythonic'' way)}
newlist = [function(i) for i in oldlist if filter(i)]
    \end{ucpythonblock}

where \texttt{filter} and \texttt{function} just perform ``some'' operation on the list elements. Basically, the syntax is:
    \begin{ucpythonblock}{}
[ expression for item in list if conditional ] 
    \end{ucpythonblock}

and this replaces:
    \begin{ucpythonblock}{}
for item in list:
  if conditional:
    expression
    \end{ucpythonblock}


\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Hello Gaussian!}

\begin{ucpythonblock}{Basic but useful code example}
import numpy as np
import matplotlib.pyplot as plt

def p(x):
    return np.exp(-x**2)
    
#let's plot it
x = np.linspace(-3,3,100)
y = p(x)
plt.plot(x,y)
plt.show()
\end{ucpythonblock}
  
  \pause

  \begin{textblock}{12}(8,-7)
    \includegraphics[width=0.55\textwidth]{../Lecture1/Gaussian.png}
  \end{textblock}  
  
  \pause
  
  But what about that \texttt{linspace} thingy? Google it! (\href{https://docs.scipy.org/doc/numpy-1.15.0/reference/generated/numpy.linspace.html}{numpy docs})
  
  \texttt{numpy.linspace(start, stop, num=50, endpoint=True, retstep=False, dtype=None)}
  
  ``Returns num evenly spaced samples, calculated over the interval [start, stop].''
  
\end{frame}

%-----------------------------------------------------------------------------------------
\subsection[Jupyter notebooks]{Jupyter notebooks}
%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Jupyter notebooks}
  \framesubtitle{Interactive, web-based, integrated code and documentation environment}

  We will be following-up with more technical practice with python, but I want to introduce you to the resources that we'll be using this quarter for many of our examples and projects: \href{http://jupyter.org/}{Jupyter notebooks}.

  \centering
  \includegraphics[width=0.85\textwidth]{../Lecture1/JupyterNotebooks.png}
  
\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]
  \frametitle{Jupyter notebooks on the PHYS 250 computing platform}

  Built for machine learning applications running mostly in Jupyter.

  \begin{figure}
  \centering
  \includegraphics<1>[width=0.85\textwidth]{../Lecture1/Platform-homepage.png}
  \includegraphics<2>[width=0.85\textwidth]{../Lecture1/Platform-login.png}
  \includegraphics<3>[width=0.85\textwidth]{../Lecture1/Platform-homepage-loggedin.png}
  \includegraphics<4>[width=0.85\textwidth]{../Lecture1/Platform-profile.png}
  \includegraphics<5>[width=0.85\textwidth]{../Lecture1/Platform-menu.png}
  \includegraphics<6>[width=0.85\textwidth]{../Lecture1/Platform-deployments.png}
  \includegraphics<7>[width=\textwidth]{../Lecture1/Platform-configuration-lecture1.png}
  \includegraphics<8>[width=\textwidth]{../Lecture1/Platform-deployments-lecture1.png}
  \includegraphics<9>[width=\textwidth]{../Lecture1/Platform-launcher-lecture1.png}
  \includegraphics<10>[width=\textwidth]{../Lecture1/Platform-terminal-lecture1.png}
  \includegraphics<11>[width=\textwidth]{../Lecture1/Platform-launcher-lecture1-cdworkspace.png}
  \includegraphics<12>[width=\textwidth]{../Lecture1/Platform-launcher-lecture1-getGitHub.png}
  \includegraphics<13>[width=\textwidth]{../Lecture1/Platform-launcher-lecture1-clone.png}
  \includegraphics<14>[width=\textwidth]{../Lecture1/JupyterNotebook-running-maniac.png}
  \end{figure}

\end{frame}

%==========================================================================================
\section[Physics]{Physics}
%==========================================================================================

%-----------------------------------------------------------------------------------------
\subsection[Random Numbers]{Random Numbers}
%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{Random Numbers}
  
  Random numbers may seem innocuous, but they underlie nearly everything you do electronically, rely on for security, or employ in the context of simulations and evaluation of models.
  
  \begin{itemize}
    \item \bluebf{cryptography}
    \item \bluebf{computer simulation}
    \begin{itemize}
      \item the most well version of which is named after the gambling town, \alertbf{Monte Carlo}
    \end{itemize}
    \item \bluebf{sampling}
  \end{itemize}

  As such, their use, their control, and the evaluation of just how random they are, is of paramount importance for computational physics.

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{And you thought lava lamps were a thing of the past}
  
  \begin{figure}
    \centering
    \includegraphics[width=0.85\textwidth]{LavaLamps.jpg}
  \end{figure}

  Cryptography relies on the ability to generate random numbers that are both unpredictable and  secret. But \alertbf{random} is a very malleable term. 

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{True vs. Pseudo: it's more than semantics}
  
  The computers of today are, by design and by implementation, \bluebf{\textit{deterministic}}.  That means that an \alertbf{algorithm cannot}, on its own and without input from an external source, provide a stream of 100\% uncorrelated random sequences. Hence the division:
  
  \begin{itemize}
    \item \textbf{TRNGs:} \bluebf{True} random number generators
    \begin{itemize}
      \item generally use some physical process that is unpredictable, but often slow and requires specialized hardware
      \item possibly combined with some compensation mechanism that might remove any bias in the process
      \item examples include: lava lamps, quantum processes, radioactive decays, thermal noise
    \end{itemize}
    \item \textbf{PRNGs:} \bluebf{Pseudo-}random number generators
    \begin{itemize}
      \item based on algorithms and, therefore, not truly \textit{random}
      \item do not require special hardware and therefore are very portable and fast
      \item can be reproduced given initial conditions
    \end{itemize}
  \end{itemize}
  
  \centering \textbf{We will, perhaps obviously, focus on PRNGs.} 
  
  \textit{(but if you want to build a wall of lava lamps in KPTC, I will cheer you on)}

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}%[shrink=10]
  \frametitle{Pseudo-random number generators (PRNGs)}
  
  The idea behind an algorithmic PRNG is to generate a sequence of numbers, $x_1, x_2, x_3 ...$ using a recurrence of the form
  %
  \begin{equation}
    x_i = f(x_{i-1}, x_{i-2}, ..., x_{i-n}),
  \end{equation}

  where $n$ initial numbers (``seeds'') are needed to begin the recurrence. The magic lies in the function, $f$, used, and the resulting \textit{uniformity} and \textit{correlation length} across some sequence of numbers. 
  
  Linear congruential generators (LCGs) are one of the oldest PRNGs and have the form
  %
  \begin{equation}
    x_{i+1} = (a x_i + c) \mod m
  \end{equation}

  IBM mainframes in the 60s had $a = 65539$, $c = 0$, and $m = 2^{31}$. This leads to
  %
  \begin{equation}
    x_{i+2} = 6 x_{i+1} - 9x_i
  \end{equation}

  which, maybe you can tell, isn't great. 

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]%[shrink=10]
  \frametitle{Python random number generator: Mersenne Twister}
  
  Python comes with a built-in (\texttt{stdlib}) random number generator that can be accessed with:
  
  \begin{ucpythonblock}{}
import random as rng
rng.random()  
  \end{ucpythonblock}

  In addition, the \texttt{numpy} package provides an even more developed set of tools with \texttt{numpy.random}. 
  
  \begin{ucpythonblock}{}
from numpy import random as rng
rng.random()  
  \end{ucpythonblock}  

  Both of these use the Mersenne Twister algorithm, which was developed in 1997 by Matsumoto and Nishimura and is a version of a generalized feedback shift register PRNG. The name comes from the fact that the period is given by a Mersenne prime 
  
  \begin{equation}
    M_n = 2^n - 1, n \in  \mathbb{N}
  \end{equation}

  (In preparing this, I found out that the largest known prime number $2^{77,232,917} - 1$ is a Mersenne prime, found on December 26, 2017.)

\end{frame}

%-----------------------------------------------------------------------------------------

\begin{frame}[fragile]%[shrink=10]
  \frametitle{Testing the uniformity of this PRNG}
  
  A histogram is a graphical representation of a discrete probability distribution. To make a simple histogram, all you need to do is:
  
  \begin{ucpythonblock}{}
from numpy import random as rng
import matplotlib.pyplot as plt
data = rng.random(100)  
plt.hist(data)  
  \end{ucpythonblock}

\end{frame}






%%==========================================================================================
%\section[Conclusions]{Conclusions}%==========================================================================================
%
%\begin{frame}%[shrink=1]
%  \frametitle{Conclusions}
%
%  \begin{itemize}
%    \item Something
%  \end{itemize}
%  
%\end{frame}

%==========================================================================================
%==========================================================================================
\end{document}
